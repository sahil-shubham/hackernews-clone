# Hackernews Clone - Detailed Documentation

Welcome to the detailed documentation for the Hackernews Clone project. This project is a full-stack application built with Next.js, Prisma, PostgreSQL, and other modern web technologies.

This documentation is intended to provide a comprehensive understanding of the project's architecture, setup, features, and technical decisions. Whether you are a contributor, reviewer, or just curious, this guide should help you navigate the codebase and understand its intricacies.

## Table of Contents

- [Repository Structure](#repository-structure)
- [Backend Architecture](./backend_architecture.md)
- [Database Schema Details](./database_schema.md)
- [API Documentation](./api_documentation.md)
- [Deployment and CI/CD](./deployment_and_cicd.md)
- [Retrospective (Design Choices & AI Usage)](./retrospective.md)
- [Future Improvements](./future_improvements.md)

## Repository Structure

Understanding the layout of the repository is key to navigating the project. Here's a breakdown of the main directories and important files:

```
/hackernews-clone
├── .github/
│   └── workflows/            # GitHub Actions CI/CD workflows
│       ├── db_backfill.yml   # Workflow for manual database seeding
│       └── test_build.yml    # Workflow for testing builds on PRs
├── .husky/                   # Husky pre-commit hooks configuration
├── docs/                     # Project documentation (you are here!)
│   ├── dbml_diagram.png      # Visual representation of the database schema
│   ├── v0_feed_ideation.png  # v0 design for feed cards
│   ├── v0_header.png         # v0 design for the header
│   ├── (other .md files for detailed docs)
├── prisma/
│   ├── migrations/           # Database migration files generated by Prisma
│   └── schema.prisma         # Defines database models, relations, and enums
├── public/
│   └── (static assets)       # Static assets like images, fonts, etc.
├── scripts/
│   ├── seed.ts               # Script for seeding the database with initial data
│   ├── fetch_hackernews.ts   # Script for fetching data from the official Hacker News API
├── src/
│   ├── app/                  # Next.js App Router directory
│   │   ├── (page routes)     # Page components and layouts
│   │   ├── api/              # API route handlers (e.g., auth, notifications)
│   │   └── actions/          # Server Actions for backend logic (e.g., votes, replies)
│   ├── components/           # Reusable UI components (client and server)
│   │   ├── auth/
│   │   ├── common/
│   │   ├── layout/
│   │   ├── notifications/
│   │   ├── post/
│   │   └── ui/               # ui components
│   ├── hooks/                # Custom React hooks
│   ├── lib/                  # Utility functions, libraries, and Prisma client instance
│   ├── styles/               # Global styles and Tailwind CSS configuration
│   └── types/                # TypeScript type definitions
├── .env.template             # Template for environment variables
├── .eslintrc.json            # ESLint configuration
├── .gitignore                # Specifies intentionally untracked files
├── .prettierrc.json          # Prettier code formatter configuration
├── Caddyfile                 # Configuration for Caddy reverse proxy
├── Dockerfile                # Defines the Docker image for the application
├── docker-compose.yml        # Docker Compose setup for multi-container local development
├── next.config.mjs           # Next.js configuration file
├── openapi.yaml              # OpenAPI specification for client-facing APIs
├── package.json              # Project metadata and dependencies
├── tsconfig.json             # TypeScript compiler options
└── yarn.lock                 # Yarn lockfile for dependency versioning
```

### Key Highlights:

*   **`/src/app`**: Core of the Next.js application, using the App Router. Business logic is split between API Routes (`/src/app/api`) for session/notification management and Server Actions (`/src/app/actions`) for most other CRUD operations directly interacting with Prisma.
*   **`/prisma`**: Contains `schema.prisma`, the single source of truth for your database schema. Migrations are managed here.
*   **`/scripts`**: Contains standalone scripts for tasks like database seeding and fetching external data.
*   **`Dockerfile` & `docker-compose.yml`**: Enable containerized development and deployment, ensuring consistency across environments.
*   **`.github/workflows`**: Automates testing and provides a manual trigger for database backfilling.
*   **`/docs`**: Centralized location for all in-depth documentation, including architectural decisions and schema details.

Navigate to the links in the Table of Contents to explore specific areas of the documentation. 